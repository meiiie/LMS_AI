======================================================================
P3+ V3 SOTA STREAMING VERIFICATION
Date: 2025-12-21 05:37:52
Target: https://maritime-ai-chatbot.onrender.com
======================================================================

‚ö†Ô∏è  V3 combines: Full CRAG pipeline + True token streaming
‚ö†Ô∏è  Expected: Progressive events + Same quality as V1
======================================================================
P3+ V3 SOTA STREAMING TEST - /api/v1/chat/stream/v3
======================================================================

üì§ Request: Gi·∫£i th√≠ch ƒêi·ªÅu 50 v·ªÅ quy·ªÅn h·∫°n c·ªßa thuy·ªÅn tr∆∞·ªüng tr√™n t√†u bi·ªÉn theo B·ªô lu·∫≠t h√†ng h·∫£i Vi·ªát Nam 2015.
----------------------------------------------------------------------
Status: 200
Content-Type: text/event-stream; charset=utf-8
----------------------------------------------------------------------

üì® Events received:


   ‚ö° FIRST EVENT TIME: 2.69s
----------------------------------------------------------------------
   ‚ùå error: {"message": "L·ªói x·ª≠ l√Ω: name 'Any' is not defined"}

======================================================================
V3 TEST RESULTS
======================================================================
   First event time:   2.69s
   First token time:   N/A (error before tokens)
   Total time:         2.69s
   Total tokens:       0
   Thinking events:    0
   Clean answer:       0 chars
   Sources:            0
   Has reasoning_trace: ‚ùå
   Reasoning steps:    0




======================================================================
V1 vs V2 vs V3 COMPARISON
======================================================================

üì° Testing V1 (/api/v1/chat - non-streaming)...
   ‚ùå V1 Error: 500

üì° Testing V2 (/api/v1/chat/stream/v2 - simplified streaming)...
   ‚ùå V2 Exception: unsupported format string passed to NoneType.__format__

üì° Testing V3 (/api/v1/chat/stream/v3 - full CRAG streaming)...
   ‚ùå V3 Exception: unsupported format string passed to NoneType.__format__

======================================================================
COMPARISON RESULTS
======================================================================

======================================================================
FINAL SUMMARY
======================================================================
   V3 First event:     2.69s (target: <1s)
   V3 Has CRAG:        ‚ùå (grading + reasoning_trace)
   V3 Has streaming:   ‚úÖ (true token streaming)

‚úÖ V3 COMBINES BEST OF BOTH WORLDS!

======================================================================